<!DOCTYPE html>
<html>
<head>
	<title>exif-reader.js</title>
	<meta charset="utf8" />
</head>
<body>

<input type="file" id="file" />
<img id="img" />

<script src='src/JPEGReader.js'></script>
<script>

/*document.getElementById('file').onchange = function() {

	var reader = new ExifReader();
	reader.onload = function() {
		console.log(this.thumbnail.width, this.thumbnail.height);
		document.getElementById('img').src = this.thumbnail.src;
	};
	reader.readFromFile(this.files[0]);

};*/

//'data:image/jpeg;base64,'

document.getElementById('file').onchange = function() {

		var reader = new JPEGReader({
			workerUrl: 'src/JPEGReader.js'
		});
		reader.onload = function() {
			console.log(reader.metadata.gps);
			reader.loadPreview();
		};

		reader.onerror = function(e) {
			console.log(e);
		};

		reader.onloadpreview = function(e) {
			document.getElementById('img').src = reader.preview;
		};

		reader.load(this.files[0]);


};


</script>
</body>
</html>